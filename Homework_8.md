# Task №8

* Написать скрипт очистки директорий. На вход принимает путь к директории. <br>
  Если директория существует, то удаляет в ней все файлы с расширениями .bak, .tmp, .backup. <br> 
  Если директории нет, то выводит ошибку.
* *Создать скрипт ownersort.sh, который в заданной папке копирует файлы в директории, <br> 
  названные по имени владельца каждого файла. <br>
  Учтите, что файл должен принадлежать соответствующему владельцу

# Solution №8

* Написать скрипт очистки директорий. На вход принимает путь к директории. <br>
  Если директория существует, то удаляет в ней все файлы с расширениями .bak, .tmp, .backup. <br>
  Если директории нет, то выводит ошибку.

1) Создаём файл и открываем его в редакторе:

```linux
sudo nano script.sh
```

2) Пишем скрипт:

```nano
#!/bin/bash
#
#
if [[ -n "$1" ]];
    then
        if [[ -e $1 ]]; then
            find $1 -type f \( -name '*.bak' -o -name '*.tmp' -o -name '*.backup' \) -delete
        else
            echo "Directory '$1' does not exist!"
        fi
    else
        echo "No directory selected"
fi
```

* Сохраняем, закрываем.

3) Запускаем скрипт и указываем директорию для которой его нужно выполнить:

```linux
bash script.sh 'directory'
```

### *Создать скрипт ownersort.sh, который в заданной папке копирует файлы в директории, <br> названные по имени владельца каждого файла. <br> Учтите, что файл должен принадлежать соответствующему владельцу

1) Создаём файл и открываем его в редакторе:

```linux
sudo nano ownersort.sh
```

2) Пишем скрипт:

```nano
#!/bin/bash

# Указываем путь к папке, где находятся файлы
directory=/path/to/directory

# Переходим в указанную папку
cd $directory

# Проходим по каждому файлу в папке
for file in *; do

    # Получаем имя владельца файла
    owner=$(stat -c %U $file)

    # Проверяем, существует ли папка с именем владельца
    if [ ! -d $owner ]; then
        # Если папки нет, создаем ее
        mkdir $owner
    fi

    # Копируем файл в папку с именем владельца
    cp $file $owner/

    # Устанавливаем владельца для скопированного файла
    chown $owner $owner/$file

done
```

Пояснения к скрипту:

* В переменную ```directory``` нужно указать путь к папке, в которой находятся файлы.
* Команда ```cd``` переходит в указанную папку.
* Цикл ```for``` проходит по каждому файлу в папке.
* Команда ```stat``` получает имя владельца файла.
* Команда ```[ ! -d $owner ]``` проверяет, существует ли папка с именем владельца. <br>
  Если папки нет, то создается командой mkdir.
* Команда ```cp``` копирует файл в папку с именем владельца.
* Команда ```chown``` устанавливает владельца для скопированного файла.

Примечание: для работы скрипта необходимы права на запись во все папки, в которые будут копироваться файлы.